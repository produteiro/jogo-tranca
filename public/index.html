<!DOCTYPE html>
<html lang="pt-br">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BH58ZS0TEB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-BH58ZS0TEB');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tranca Royale - Niagara</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="tela-login">
        <h1>Tranca Royale üá®üá¶</h1>
        <div class="card-login">
            <h2 id="titulo-form">Login</h2>
            <input type="text" id="email" placeholder="E-mail">
            <input type="password" id="senha" placeholder="Senha">
            <input type="text" id="nome" placeholder="Seu Nome (Apenas Registro)" style="display:none">
            
            <button onclick="fazerLogin()" id="btn-acao-login" style="background:#2ecc71; color:white;">ENTRAR</button>
            <button onclick="jogarAnonimo()" class="btn-anonimo" style="background:#95a5a6; color:white;">JOGAR COMO AN√îNIMO</button>
            
            <p class="link-toggle" onclick="alternarFormulario()" style="color:#3498db; cursor:pointer; font-size:12px; margin-top:10px;">Criar nova conta</p>
            <p id="msg-erro" style="color:#e74c3c; font-size:12px; height:15px; margin-top:5px;"></p>
        </div>
    </div>

    <div id="lobby" style="display:none; flex-direction:column; align-items:center; padding-top:100px;">
        <h1 id="boas-vindas">Bem-vindo!</h1>
        <div style="display:flex; gap:15px; margin-top:30px;">
            <button id="btn-jogar-bot" onclick="entrarModoTreino()" style="background:#3498db; padding:15px 40px; font-size:18px; color:white; border:none; border-radius:8px; cursor:pointer;">Jogar vs Bots</button>
        </div>
        <button onclick="abrirRanking()" style="background:#f1c40f; color:black; padding:10px 30px; border:none; border-radius:8px; margin-top:15px; cursor:pointer; font-weight:bold;">üèÜ Ver Ranking Geral</button>
        
        <button onclick="fazerLogout()" style="background:transparent; border:1px solid #7f8c8d; color:#aaa; padding:10px 20px; margin-top:50px; cursor:pointer; border-radius:5px;">Sair / Logout</button>
    </div>

    <div id="modal-ranking" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); z-index:6000; justify-content:center; align-items:center; flex-direction:column;">
        <h2 style="color:#f1c40f; margin-bottom:20px;">RANKING GERAL (TOP 10)</h2>
        <div style="background:#222; padding:20px; border-radius:10px; width:80%; max-width:500px; border:1px solid #444;">
            <table style="width:100%; color:white; text-align:left;">
                <thead><tr style="border-bottom:1px solid #444;"><th>#</th><th>Nome</th><th>Vit√≥rias</th><th>Pontos</th></tr></thead>
                <tbody id="lista-ranking"></tbody>
            </table>
        </div>
        <button onclick="document.getElementById('modal-ranking').style.display='none'" style="margin-top:20px; padding:10px 20px; background:#555; color:white; border:none; border-radius:5px; cursor:pointer;">Fechar</button>
    </div>

    <div id="mesa" style="display:none">
        
        <header id="game-header">
            <div class="header-left">
                <div class="logo">Tranca Royale üá®üá¶</div>
            </div>
            
            <div class="header-center">
                <div id="placar-integrado">
                    <div class="time-score azul">
                        <span class="label">N√ìS</span>
                        <span class="score" id="pts-nos">0</span>
                    </div>
                    <div class="vs-divider">VS</div>
                    <div class="time-score vermelha">
                        <span class="score" id="pts-eles">0</span>
                        <span class="label">ELES</span>
                    </div>
                </div>
                <div id="info-jogo">Aguardando in√≠cio...</div>
            </div>

            <div class="header-right">
                <button id="btn-reset" onclick="pedirReset()" title="Reiniciar">üîÑ</button>
                <button class="btn-sair" onclick="fazerLogout()" title="Sair">
                    üö™ Sair
                </button>
            </div>
        </header>

        <div id="area-baloes"></div>

        <div id="mao-esquerda" class="mao-adversario lateral">
            <div id="info-esq" class="info-player">Bot 1</div>
        </div>
        <div id="mao-direita" class="mao-adversario lateral">
            <div id="info-dir" class="info-player">Bot 3</div>
        </div>
        <div id="mao-topo" class="mao-adversario">
            <div id="info-topo" class="info-player">Bot 2</div>
        </div>

        <div id="jogos-adversarios" class="area-jogos-expostos">
            <div class="watermark">JOGOS ADVERS√ÅRIOS</div>
        </div>
        
        <div class="faixa-central">
            <div class="slot-mesa">
                <div class="label-mesa">MONTE</div>
                <div id="monte" class="carta carta-verso" onclick="comprarDoMonte()">
                    <div class="contador-badge" id="qtd-monte">0</div>
                </div>
            </div>

            <div class="slot-mesa lixo-slot">
                <div class="label-mesa">LIXO</div>
                <div id="lixo" class="area-lixo-expandida" onclick="interagirComLixo()">
                    <div id="carta-lixo"></div>
                    <div class="contador-badge" id="qtd-lixo">0</div>
                </div>
            </div>

            <div class="slot-mesa">
                <div class="label-mesa">MORTOS</div>
                <div id="area-mortos" class="morto-container">
                    <div id="morto1" class="pilha-morto carta-verso"></div>
                    <div id="morto2" class="pilha-morto carta-verso cruzado"></div>
                </div>
            </div>
        </div>

        <div id="meus-jogos" class="area-jogos-expostos" onclick="tentarBaixarJogo()">
            <div class="watermark">SEUS JOGOS</div>
        </div>

        <!-- üÜï BARRA DE A√á√ïES -->
        <div id="barra-acoes">
            <button id="btn-baixar-jogo" onclick="tentarBaixarJogo()" style="display:none;">
                üì• BAIXAR JOGO (<span id="qtd-selecionadas">0</span>)
            </button>
            
            <button id="btn-descartar" onclick="descartarCartaSelecionadas()" style="display:none;">
                üóëÔ∏è DESCARTAR (<span id="qtd-descartar">0</span>)
            </button>
            
            <button id="btn-limpar-selecao" onclick="limparSelecao()" style="display:none;">
                ‚ùå LIMPAR
            </button>
        </div>

        <div id="hud-jogador"><div id="minha-mao" class="area-cartas-relativa"></div></div>

        <div id="barra-ferramentas" style="display:none">
            <div class="btn-icone" onclick="toggleChat()" title="Chat">üí¨<div class="badge-chat"></div></div>
            <div class="btn-icone" onclick="alternarOrdenacao()" title="Ordenar Cartas">üîÉ</div>
        </div>

        <div id="janela-chat" style="display:none;">
            <div id="chat-header"><span>Bate-papo</span><span onclick="toggleChat()" style="cursor:pointer">‚úñ</span></div>
            <div id="chat-msgs"></div>
            <div id="chat-input-area">
                <input type="text" id="chat-input" placeholder="Digite..." onkeypress="if(event.key==='Enter') enviarMensagem()">
                <button onclick="enviarMensagem()" style="margin-left:5px;">></button>
            </div>
        </div>
    </div>

    <div id="modal-fim">
        <div id="header-fim" style="text-align:center; margin-bottom:20px;">
            <h1 id="titulo-vitoria" style="font-size:36px; margin:0; text-transform: uppercase;">FIM DE JOGO</h1>
            <p style="color:#aaa; font-size:14px;">DETALHES DA PARTIDA</p>
        </div>
        <div class="tabela-extrato">
            <div class="coluna-labels">
                <div class="item-label header">CATEGORIA</div>
                <div class="item-label">Batida (100)</div>
                <div class="item-label">Morto (-100)</div>
                <div class="item-label">Canastra Limpa (200)</div>
                <div class="item-label">Canastra Suja (100)</div>
                <div class="item-label">3 Vermelhos (100)</div>
                <div class="item-label">Pontos Cartas (M√£o/Mesa)</div>
                <div class="item-label total">TOTAL</div>
            </div>
            <div class="coluna-equipe equipe-azul">
                <div class="item-valor header">N√ìS</div>
                <div class="item-valor" id="p1-batida">0</div>
                <div class="item-valor" id="p1-morto">0</div>
                <div class="item-valor" id="p1-limpa">0</div>
                <div class="item-valor" id="p1-suja">0</div>
                <div class="item-valor" id="p1-3ver">0</div>
                <div class="item-valor" id="p1-cartas">0</div>
                <div class="item-valor total" id="p1-total">0</div>
            </div>
            <div class="coluna-equipe equipe-vermelha">
                <div class="item-valor header">ELES</div>
                <div class="item-valor" id="p2-batida">0</div>
                <div class="item-valor" id="p2-morto">0</div>
                <div class="item-valor" id="p2-limpa">0</div>
                <div class="item-valor" id="p2-suja">0</div>
                <div class="item-valor" id="p2-3ver">0</div>
                <div class="item-valor" id="p2-cartas">0</div>
                <div class="item-valor total" id="p2-total">0</div>
            </div>
        </div>
        <div style="display:flex; gap:15px; margin-top:20px;">
            <button onclick="jogarNovamente()" style="padding:12px 30px; font-size:16px; cursor:pointer; background:#2ecc71; color:white; border:none; border-radius:5px;">JOGAR NOVAMENTE</button>
            <button onclick="fazerLogout()" style="padding:12px 30px; font-size:16px; cursor:pointer; background:#e74c3c; color:white; border:none; border-radius:5px;">SAIR</button>
        </div>
    </div>

    <div id="modal-decisao" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:7000; flex-direction:column; justify-content:center; align-items:center;">
        <h2 style="color:white; margin-bottom:20px;">Voc√™ quer esta carta?</h2>
        <div id="carta-decisao" class="carta" style="margin-bottom:20px; transform: scale(1.5);"></div>
        <div style="display:flex; gap:20px;">
            <button onclick="responderDecisao(true)" style="padding:15px 40px; background:#27ae60; color:white; border:none; border-radius:5px; cursor:pointer; font-size:18px;">FICAR</button>
            <button onclick="responderDecisao(false)" style="padding:15px 40px; background:#c0392b; color:white; border:none; border-radius:5px; cursor:pointer; font-size:18px;">RECUSAR</button>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>

